<%#
  This file is a part of RedmineX UX Upgrade plugin
  for Redmine

  Copyright 2020-2022 RedmineX. All Rights Reserved.
  https://www.redmine-x.com

  Licensed under GPL v2 (http://www.gnu.org/licenses/gpl-2.0.html)
  Created by Ondřej Svejkovský
%>

replaceIssueFormWith('<%= escape_javascript(render :partial => 'form') %>');
<% case params[:form_update_triggered_by] %>
<% when "issue_project_id" %>
  $("#watchers_form_container").html(
    '<%= escape_javascript(render :partial => 'issues/watchers_form') %>');
<% when "issue_category_id" %>
  $('#issue_assigned_to_id').find('option').first().html(
    '<%= escape_javascript(
           @issue.category.try(:assigned_to).try(:name)).presence || '&nbsp;'.html_safe %>');
<% end %>
